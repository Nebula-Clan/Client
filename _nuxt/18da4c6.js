(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{478:function(t,e,n){"use strict";var o=n(479);e.a=o.a},509:function(t,e,n){var content=n(543);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("67b5d29b",content,!0,{sourceMap:!1})},513:function(t,e,n){"use strict";n.r(e);var o={name:"Categories-List",props:["categories","avatarSize","avatarPadding"]},r=n(38),c=n(39),l=n.n(c),m=n(212),d=n(216),f=n(136),v=n(118),h=n(219),_=n(116),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{dense:""}},[n("v-list-item-group",t._l(t.categories,(function(e,i){return n("nuxt-link",{key:i,staticClass:"text-decoration-none",attrs:{to:"/explore?category="+e.title}},[n("v-list-item",{class:void 0===t.avatarPadding?"":t.avatarPadding},[n("v-list-item-icon",[void 0===t.avatarSize?n("v-icon",{domProps:{textContent:t._s(e.icon)}}):n("v-icon",{attrs:{size:t.avatarSize},domProps:{textContent:t._s(e.icon)}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)],1)})),1)],1)}),[],!1,null,"408fca29",null);e.default=component.exports;l()(component,{VIcon:m.a,VList:d.a,VListItem:f.a,VListItemContent:v.a,VListItemGroup:h.a,VListItemIcon:_.a,VListItemTitle:v.c})},520:function(t,e,n){var content=n(521);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("83ff91dc",content,!0,{sourceMap:!1})},521:function(t,e,n){(e=n(14)(!1)).push([t.i,".theme--light.v-file-input .v-file-input__text{color:rgba(0,0,0,.87)}.theme--light.v-file-input .v-file-input__text--placeholder{color:rgba(0,0,0,.6)}.theme--light.v-file-input.v-input--is-disabled .v-file-input__text,.theme--light.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-file-input .v-file-input__text{color:#fff}.theme--dark.v-file-input .v-file-input__text--placeholder{color:hsla(0,0%,100%,.7)}.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text,.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:hsla(0,0%,100%,.5)}.v-file-input input[type=file]{left:0;opacity:0;pointer-events:none;position:absolute;max-width:0;width:0}.v-file-input .v-file-input__text{align-items:center;align-self:stretch;display:flex;flex-wrap:wrap;width:100%}.v-file-input .v-file-input__text.v-file-input__text--chips{flex-wrap:wrap}.v-file-input .v-file-input__text .v-chip{margin:4px}.v-file-input .v-text-field__slot{min-height:32px}.v-file-input.v-text-field--filled:not(.v-text-field--single-line) .v-file-input__text{padding-top:22px}.v-file-input.v-text-field--outlined .v-text-field__slot{padding:6px 0}.v-file-input.v-text-field--outlined.v-input--dense .v-text-field__slot{padding:3px 0}",""]),t.exports=e},524:function(t,e,n){"use strict";n.r(e);var o={name:"NewComment",data:function(){return{replayText:"",isFormValid:!1,commentRules:[function(p){return!!p||"Type Something"},function(p){return p.length>=3||"Must be at least 3 characters"},function(p){return p.length<=500||"Must be lower than 100 characters"}]}},props:["isLoadingToSend","submitComment"]},r=n(38),c=n(39),l=n.n(c),m=n(482),d=n(544),f=n(842),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[n("v-textarea",{attrs:{rules:t.commentRules,outlined:"","auto-grow":"",counter:"500",label:"Reply the post"},model:{value:t.replayText,callback:function(e){t.replayText=e},expression:"replayText"}}),t._v(" "),n("div",{staticClass:"pb-2 d-flex flex-row-reverse"},[n("v-btn",{staticClass:"mt-2",attrs:{outlined:"",depressed:"",color:"primary",loading:t.isLoadingToSend,disabled:!t.isFormValid,elevation:"2"},on:{click:function(e){return t.submitComment({replayText:t.replayText})}}},[t._v("\n      Send\n    ")])],1)],1)}),[],!1,null,"8b82cee6",null);e.default=component.exports;l()(component,{VBtn:m.a,VForm:d.a,VTextarea:f.a})},526:function(t,e,n){"use strict";n.r(e);n(32),n(5);var o={name:"CreateCommunity",data:function(){return{formValid:!1,body:{name:"",about:"",picture:null,banner_picture:null},nameRules:[function(t){return!!t||"This field is required"},function(t){return t.length>=4||"Name must be at least 4 characters or more"}]}},methods:{submit:function(){var t=this,e=new FormData;e.append("name",this.body.name),e.append("about",this.body.about),e.append("picture",this.body.picture),e.append("banner_picture",this.body.banner_picture),this.$axios.post("api/community/create_community",e).then((function(){t.$notifier.showMessage({content:"".concat(t.body.name," Created! Happy writing"),color:"success"}),t.$axios.post("api/community/join_community?name=".concat(t.body.name)).then((function(){t.$emit("userState"),t.loading=!t.loading})).catch((function(e){return t.$notifier.showMessage({content:e.response.data.error.message,color:"error"})})).finally((function(){return t.$emit("close")}))})).catch((function(e){t.$notifier.showMessage({content:e.response.data.error.message,color:"error"})}))},close:function(){this.$emit("close")}}},r=n(38),c=n(39),l=n.n(c),m=n(482),d=n(503),f=n(501),v=n(497),h=n(553),_=n(544),y=n(212),x=n(495),C=n(498),w=n(479),O=n(842),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[n("v-icon",{staticClass:"mr-2"},[t._v("\n      mdi-plus\n    ")]),t._v("\n    Create Community\n  ")],1),t._v(" "),n("v-card-text",[n("v-row",[n("v-form",{staticStyle:{width:"100%"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:t.nameRules,counter:"",label:"Name",outlined:""},model:{value:t.body.name,callback:function(e){t.$set(t.body,"name",e)},expression:"body.name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{"auto-grow":"",counter:"",label:"Description",outlined:""},model:{value:t.body.about,callback:function(e){t.$set(t.body,"about",e)},expression:"body.about"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",label:"Select logo",outlined:"","prepend-icon":"mdi-camera","show-size":"","truncate-length":"30"},model:{value:t.body.picture,callback:function(e){t.$set(t.body,"picture",e)},expression:"body.picture"}}),t._v(" "),n("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",label:"Select banner",outlined:"","prepend-icon":"mdi-camera","show-size":"","truncate-length":"30"},model:{value:t.body.banner_picture,callback:function(e){t.$set(t.body,"banner_picture",e)},expression:"body.banner_picture"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"error",outlined:"",text:""},on:{click:function(e){return t.close()}}},[t._v("\n      Close\n    ")]),t._v(" "),n("v-btn",{attrs:{color:"primary",outlined:"",text:"",type:"submit"},on:{click:t.submit}},[t._v("\n      Create\n    ")])],1)],1)}),[],!1,null,"0b5e465b",null);e.default=component.exports;l()(component,{VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardText:f.c,VCardTitle:f.d,VCol:v.a,VFileInput:h.a,VForm:_.a,VIcon:y.a,VRow:x.a,VSpacer:C.a,VTextField:w.a,VTextarea:O.a})},531:function(t,e,n){var content=n(566);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("00f4a5d0",content,!0,{sourceMap:!1})},536:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(120);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"user.component",components:{UserAvatar:n(119).default},props:["user"],data:function(){return{profileInfo:{posts:[],followers:[],followings:[]}}},mounted:function(){this.fetchFollowers(),this.fetchFollowings(),this.fetchPosts()},methods:l(l(l(l({},Object(r.b)("modules/post",["getPostByAuthor"])),Object(r.b)("modules/follow",["getFollowers"])),Object(r.b)("modules/follow",["getFollowings"])),{},{fetchFollowings:function(){var t=this;this.getFollowings({username:this.$auth.user.username}).then((function(e){var data=e.data;t.profileInfo.followings=data.user_followings})).catch((function(e){t.$notifier.showMessage({content:e.message,color:"error"})}))},fetchFollowers:function(){var t=this;this.getFollowers({username:this.$auth.user.username}).then((function(e){var data=e.data;t.profileInfo.followers=data.user_followers})).catch((function(e){t.$notifier.showMessage({content:e.message,color:"error"})}))},fetchPosts:function(){var t=this;this.getPostByAuthor({username:this.$auth.user.username}).then((function(e){var data=e.data;t.profileInfo.posts=data.all_user_posts})).catch((function(e){t.$notifier.showMessage({content:e.message,color:"error"})}))}})},d=(n(542),n(38)),f=n(39),v=n.n(f),h=n(503),_=n(501),y=n(534),x=n(212),C=n(304),w=n(495),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-2"},[n("div",{staticClass:"profile mb-10"},[n("v-img",{staticClass:"white--text align-end custom-rounded",attrs:{src:this.$axios.defaults.baseURL+t.user.banner_picture,height:"80px"}}),t._v(" "),n("nuxt-link",{attrs:{to:"/profile/"+t.user.username}},[n("UserAvatar",{staticClass:"profile-pic",attrs:{color:"primary",size:80,"avatar-string":t.user.username,"avatar-src":t.user.profile_picture}})],1)],1),t._v(" "),n("v-card-title",{staticClass:"justify-center"},[t._v("\n    "+t._s(t.user.first_name)+" "+t._s(t.user.last_name)+"\n  ")]),t._v(" "),n("v-card-subtitle",{staticClass:"text-center"},[t._v("\n    "+t._s(t.user.username)+"\n  ")]),t._v(" "),n("v-card-text",{staticClass:"text-center"},[n("v-icon",[t._v("mdi-format-quote-open")]),t._v("\n    "+t._s(t.user.biology)+"\n    "),n("v-icon",[t._v("mdi-format-quote-close")])],1),t._v(" "),n("v-divider",{staticClass:"primary"}),t._v(" "),n("v-row",{staticClass:"text-center pa-2 justify-space-around"},[n("div",[n("b",[t._v(t._s(t.profileInfo.followings.length))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("Following")])]),t._v(" "),n("div",[n("b",[t._v(t._s(t.profileInfo.posts.length))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("Posts")])]),t._v(" "),n("div",[n("b",[t._v(t._s(t.profileInfo.followers.length))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("Followers")])])])],1)}),[],!1,null,"29cb5175",null);e.default=component.exports;v()(component,{UserAvatar:n(119).default}),v()(component,{VCard:h.a,VCardSubtitle:_.b,VCardText:_.c,VCardTitle:_.d,VDivider:y.a,VIcon:x.a,VImg:C.a,VRow:w.a})},537:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(120);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"categories.component",components:{CategoriesList:n(513).default},data:function(){return{categories:[]}},mounted:function(){this.fetchCategories()},methods:l(l({},Object(r.b)("modules/category/category",["getAllCategories"])),{},{fetchCategories:function(){var t=this;this.getAllCategories().then((function(e){var data=e.data;console.log(data.categories),t.categories=data.categories})).catch((function(e){return t.$notifier.showMessage({content:e.message,color:"error"})}))}})},d=n(38),f=n(39),v=n.n(f),h=n(503),_=n(501),y=n(534),component=Object(d.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"elevation-2"},[e("v-card-subtitle",[this._v("\n    Explore Categories\n  ")]),this._v(" "),e("v-divider",{staticClass:"primary"}),this._v(" "),e("CategoriesList",{attrs:{categories:this.categories}})],1)}),[],!1,null,"331ccf91",null);e.default=component.exports;v()(component,{CategoriesList:n(513).default}),v()(component,{VCard:h.a,VCardSubtitle:_.b,VDivider:y.a})},538:function(t,e,n){"use strict";n.r(e);var o=n(526),r={name:"communities.component",props:["communities"],components:{UserAvatar:n(119).default,CreateCommunity:o.default},data:function(){return{dialog:!1}},methods:{close:function(){this.dialog=!1,this.$emit("refresh")}}},c=n(38),l=n(39),m=n.n(l),d=n(482),f=n(503),v=n(501),h=n(627),_=n(534),y=n(212),x=n(216),C=n(136),w=n(218),O=n(118),j=n(219),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-2"},[n("v-card-subtitle",{staticClass:"d-flex justify-space-between"},[t._v("\n    Communities\n    "),n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{"x-small":"",icon:""}},"v-btn",r,!1),o),[n("v-icon",[t._v("\n            mdi-plus\n          ")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("CreateCommunity",{on:{close:t.close}})],1)],1),t._v(" "),n("v-divider",{staticClass:"primary"}),t._v(" "),n("v-list",{attrs:{dense:""}},[n("v-list-item-group",t._l(t.communities,(function(e,i){return n("nuxt-link",{key:i,staticClass:"text-decoration-none",attrs:{to:"/community/"+e.name}},[n("v-list-item",[n("v-list-item-avatar",[n("UserAvatar",{attrs:{color:"primary","avatar-string":e.name,"avatar-src":e.picture}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                "+t._s(e.name)+" | "+t._s(e.members_number)+"\n              ")])],1)],1)],1)})),1)],1)],1)}),[],!1,null,"921ef5d0",null);e.default=component.exports;m()(component,{CreateCommunity:n(526).default,UserAvatar:n(119).default}),m()(component,{VBtn:d.a,VCard:f.a,VCardSubtitle:v.b,VDialog:h.a,VDivider:_.a,VIcon:y.a,VList:x.a,VListItem:C.a,VListItemAvatar:w.a,VListItemContent:O.a,VListItemGroup:j.a,VListItemTitle:O.c})},539:function(t,e,n){"use strict";n.r(e);n(7),n(42),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(120);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"Write",props:["community"],data:function(){return{text:"",post:{id:"",title:"",description:"",contentType:"OT",category:"",content:"",headerImage:null,communityName:"",hashtags:[]}}},methods:l(l({},Object(r.b)("modules/post",["createPost"])),{},{publish:function(){var t=this;this.community&&(this.post.communityName=this.community),this.post.description=this.text,this.post.content=this.text,this.createPost(this.post).then((function(){t.$notifier.showMessage({content:"Posted, hurray!",color:"success"}),t.$emit("posted")})).catch((function(e){t.$notifier.showMessage({content:e.message,color:"error"})}))}})},d=n(38),f=n(39),v=n.n(f),h=n(482),_=n(503),y=n(501),x=n(497),C=n(534),w=n(212),O=n(495),j=n(842),k=n(499),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{elevation:"2"}},[n("v-card-title",[n("v-icon",{staticClass:"pr-3"},[t._v("mdi-pencil")]),t._v("\n    Create a post\n  ")],1),t._v(" "),n("v-textarea",{staticClass:"px-2",attrs:{"auto-grow":"",clearable:"",label:"Quick post",name:"input-7-4",outlined:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "),n("v-divider",{staticClass:"primary"}),t._v(" "),n("v-row",{staticClass:"px-4"},[n("v-col",{attrs:{cols:"6"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",to:"/new-post"}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-newspaper")])],1)]}}])},[t._v(" "),n("span",[t._v("Create an article")])])],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{disabled:0===t.text.length,icon:""},on:{click:t.publish}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-send")])],1)]}}])},[t._v(" "),n("span",[t._v("Send post")])])],1)],1)],1)}),[],!1,null,"b608fd6c",null);e.default=component.exports;v()(component,{VBtn:h.a,VCard:_.a,VCardTitle:y.d,VCol:x.a,VDivider:C.a,VIcon:w.a,VRow:O.a,VTextarea:j.a,VTooltip:k.a})},540:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(120),c=n(119),l=n(545);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"Post-quick-view",components:{NewComment:n(524).default,UserAvatar:c.default},props:["post"],data:function(){return{isCommentToPostExpanded:!1,isLoadingToSendComment:!1,chipsColors:["blue","red","green","purple","orange"],like:!1,dislike:!1}},computed:{likedPost:function(){return this.dislike||!this.post.is_liked&&!this.like?"":"pink"},postDateDuration:function(){return Object(l.a)(this.post.date_created)}},methods:d(d(d({},Object(r.b)("modules/profile/profileLikes",["submitLikeAtPostWithID","deleteLikeAtPostWithID"])),Object(r.b)("modules/comment/post_comment",["replyToPost"])),{},{likePost:function(){var t=this;this.like?this.deleteLikeAtPostWithID(this.post.id).then((function(e){e.data;t.like=!1,t.dislike=!0})).catch((function(e){403==e.response.status&&t.showErrorWithMessage("Please Login in or Sign Up")})):this.submitLikeAtPostWithID(this.post.id).then((function(e){e.data;t.like=!0,t.dislike=!1})).catch((function(e){403==e.response.status&&t.showErrorWithMessage("Please Login in or Sign Up")}))},showErrorWithMessage:function(t){this.$notifier.showMessage({content:t,color:"error"})},replyComment:function(t){var e=this;this.isLoadingToSendComment=!0,this.replyToPost({postId:this.post.id,content:t.replayText}).then((function(t){t.data;e.isLoadingToSendComment=!1,e.isCommentToPostExpanded=!e.isCommentToPostExpanded,e.$notifier.showMessage({content:"Sent",color:"success"})})).catch((function(t){e.showErrorWithMessage(t)}))},showPost:function(){this.post.is_reported=!1}}),mounted:function(){}},v=(n(565),n(38)),h=n(39),_=n.n(h),y=n(482),x=n(503),C=n(562),w=n(497),O=n(121),j=n(212),k=n(495),P=n(69),V=n(499),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mb-2 pa-1 layout-post",attrs:{elevation:"2"}},[n("v-row",[n("v-col",{staticClass:"ml-5"},[n("v-row",{staticClass:"pb-1"},[n("nuxt-link",{staticClass:"text-decoration-none white--text",attrs:{to:"/posts/"+t.post.id}},[n("h2",[t._v(t._s(t.post.title))])]),t._v(" "),null!==t.post.category?n("nuxt-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/explore?category="+t.post.category.title}},[n("v-sheet",{attrs:{outlined:"",elevation:"1",color:"blue px-3 mt-1 ml-4 rounded-pill"}},[n("span",[t._v("\n                "+t._s(t.post.category.title)+"\n              ")])])],1):t._e()],1),t._v(" "),n("v-row",{staticClass:"pb-1"},[n("div",{staticClass:"mr-2"},[n("v-icon",{attrs:{size:"15"}},[t._v("\n            mdi-clock\n          ")]),t._v(" "),n("span",{staticStyle:{"font-size":"smaller"}},[t._v(t._s(t.postDateDuration))])],1)])],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),n("span",[t._v("More")])])],1)],1),t._v(" "),n("v-row",[t.post.header_image&&"/media/undefined"!==t.post.header_image?n("v-col",{staticClass:"mx-5 header-image text-center"},[n("img",{attrs:{alt:"image",src:t.$axios.defaults.baseURL+"/media/"+t.post.header_image}})]):t._e()],1),t._v(" "),n("v-row",[n("v-col",{staticClass:"mx-5"},[n("p",[t._v(t._s(t.post.description))])])],1),t._v(" "),n("v-row",[n("v-col",{staticClass:"d-flex justify-right ml-2"},t._l(t.post.hashtags,(function(e,i){return n("v-chip",{key:i,staticClass:"mx-1",attrs:{nuxt:"",to:"/explore?hashtag="+e.text,outlined:"",small:"",color:t.chipsColors[i]}},[t._v("\n        #"+t._s(e.text)+"\n      ")])})),1)],1),t._v(" "),n("v-row",{staticClass:"mx-2"},[n("v-col",[n("nuxt-link",{staticClass:"text-decoration-none white--text d-flex",attrs:{to:"/profile/"+t.post.author.username}},[n("div",[n("UserAvatar",{attrs:{color:"primary","avatar-string":t.post.author.username,"avatar-src":t.post.author.profile_picture}})],1),t._v(" "),n("div",{staticClass:"d-flex flex-column ml-3"},[n("span",[n("b",[t._v(t._s(t.post.author.username))])]),t._v(" "),n("span",{staticStyle:{"font-size":"smaller"}},[t._v(t._s(t.post.author.first_name)+" "+t._s(t.post.author.last_name))])])])],1),t._v(" "),n("v-col",{staticClass:"text-right d-flex justify-end align-center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:t.likedPost,icon:""},on:{click:t.likePost}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-heart")])],1)]}}])},[t._v(" "),n("span",[t._v("Like")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){t.isCommentToPostExpanded=!t.isCommentToPostExpanded}}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-comment")])],1)]}}])},[t._v(" "),n("span",[t._v("Comment")])])],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isCommentToPostExpanded,expression:"isCommentToPostExpanded"}],staticClass:"ml-3 mt-3"},[n("NewComment",{attrs:{"is-loading-to-send":t.isLoadingToSendComment,"submit-comment":t.replyComment}})],1)]),t._v(" "),t.post.is_reported?n("div",{staticClass:"report",attrs:{id:"report"}},[n("p",[t._v("This post has been reported by several users. It may contain inappropriate content.")]),t._v(" "),n("v-btn",{attrs:{color:"accent",outlined:""},on:{click:t.showPost}},[t._v("\n      Show post\n    ")])],1):t._e()],1)}),[],!1,null,"7b637a9a",null);e.default=component.exports;_()(component,{UserAvatar:n(119).default,NewComment:n(524).default}),_()(component,{VBtn:y.a,VCard:x.a,VChip:C.a,VCol:w.a,VExpandTransition:O.a,VIcon:j.a,VRow:k.a,VSheet:P.a,VTooltip:V.a})},542:function(t,e,n){"use strict";var o=n(509);n.n(o).a},543:function(t,e,n){(e=n(14)(!1)).push([t.i,".profile[data-v-29cb5175]{position:relative}.profile .profile-pic[data-v-29cb5175]{position:absolute;bottom:-40px;left:calc(50% - 56px)}.profile .custom-rounded[data-v-29cb5175]{border-radius:5px 5px 0 0}b[data-v-29cb5175],span[data-v-29cb5175]{font-size:x-small}",""]),t.exports=e},544:function(t,e,n){"use strict";n(7),n(11),n(77),n(8),n(40),n(16),n(17),n(13),n(181),n(64),n(9),n(51);var o=n(2),r=n(4),c=n(89),l=n(107);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(r.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:d({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},545:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));n(30);function o(t){var e=new Date(t).getTime(),n=(new Date).getTime();return n-e<36e5?Math.floor((n-e)/6e4)+" m":n-e>36e5&&n-e<864e5?Math.floor((n-e)/36e5)+" h":Math.floor((n-e)/864e5)+" day(s)"}function r(t){return"".concat($nuxt.$axios.defaults.baseURL,"/media/").concat(t)}function c(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1})}},553:function(t,e,n){"use strict";n(7),n(30),n(232),n(11),n(8),n(40),n(57),n(122),n(41),n(180),n(32),n(22),n(16),n(17),n(13),n(9);var o=n(79),r=n(2),c=n(20),l=(n(520),n(478)),m=n(562),d=n(0),f=n(6),v=n(61);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"==typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(d.y)(t).every((function(t){return null!=t&&"object"===Object(c.a)(t)}))}}},computed:{classes:function(){return _(_({},l.a.options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var n=e.size;return t+(void 0===n?0:n)}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(d.q)(e,1024===this.base))},internalArrayValue:function(){return Object(d.y)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty?this.internalArrayValue.map((function(e){var n=e.name,o=void 0===n?"":n,r=e.size,c=void 0===r?0:r,l=t.truncateText(o);return t.showSize?"".concat(l," (").concat(Object(d.q)(c,1024===t.base),")"):l})):[this.placeholder]},base:function(){return"boolean"!=typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(f.b)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(d.h)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(text,e){return t.$createElement(m.a,{props:{small:t.smallChips},on:{"click:close":function(){var n=t.internalValue;n.splice(e,1),t.internalValue=n}}},[text])})):[]},genControl:function(){var t=l.a.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(v.b)(t.data.style,{display:"none"})),t},genInput:function(){var input=l.a.options.methods.genInput.call(this);return delete input.data.domProps.value,delete input.data.on.input,input.data.on.change=this.onInput,[this.genSelections(),input]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(n,o){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[o],file:n,index:o}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=l.a.options.methods.genTextFieldSlot.call(this);return e.data.on=_(_({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(o.a)(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}})},565:function(t,e,n){"use strict";var o=n(531);n.n(o).a},566:function(t,e,n){(e=n(14)(!1)).push([t.i,".layout-post[data-v-7b637a9a]{position:relative}.layout-post .report[data-v-7b637a9a]{position:absolute;top:0;bottom:0;width:100%;left:0;background-color:rgba(0,0,0,.8);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(15px);padding:50px;display:flex;text-align:center;flex-direction:column;justify-content:center;align-items:center}.header-image[data-v-7b637a9a]{text-align:center}.header-image img[data-v-7b637a9a]{max-width:100%;max-height:350px;border-radius:5px}",""]),t.exports=e},599:function(t,e,n){var content=n(766);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("cf75638e",content,!0,{sourceMap:!1})},600:function(t,e,n){var content=n(768);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("62baf212",content,!0,{sourceMap:!1})},601:function(t,e,n){var content=n(770);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("d904b650",content,!0,{sourceMap:!1})},602:function(t,e,n){var content=n(772);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("b15f3b18",content,!0,{sourceMap:!1})},624:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(32),n(16),n(17),n(13),n(9);var o=n(2),r=n(120),c=n(119),l=n(673);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"Comment",components:{NewComment:n(524).default,UserAvatar:c.default,Comments:l.default},data:function(){return{author:"",avatar:"",date:new Date,textComment:"",isReplyTextAreaExpanded:!1,isLoadingToSend:!1,isRepliesExpanded:!1}},props:["comment","replies","depth"],computed:{dateDuration:{get:function(){var t=new Date(this.comment.create_date).getTime(),e=(new Date).getTime();return e-t<18e4?"Just now":e-t<36e5?Math.floor((e-t)/6e4)+" m":e-t>36e5&&e-t<864e5?Math.floor((e-t)/36e5)+" h":Math.floor((e-t)/864e5)+" day(s)"}},height:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 220;case"sm":return 400;case"md":return 500;case"lg":return 600;case"xl":return 800}},isLiked:function(){return this.comment.is_liked?"pink":""}},methods:d(d(d(d(d({},Object(r.b)("modules/comment/post_comment",["replyToComment"])),Object(r.b)("modules/comment/post_comment",["getRepliesComments"])),Object(r.b)("modules/comment/post_comment",["likeComment"])),Object(r.b)("modules/comment/post_comment",["dislikeComment"])),{},{openLikeDialog:function(){},onLikeCommentClicked:function(){var t=this,e=!this.comment.is_liked;this.comment.is_liked=!this.comment.is_liked,e?this.likeComment({commentId:this.comment.id}).then((function(e){e.data;t.comment.is_liked=!0,t.comment.total_likes_count++})).catch((function(e){t.comment.is_liked=!1,t.$notifier.showMessage({content:e.message,color:"error"})})):this.dislikeComment({commentId:this.comment.id}).then((function(e){e.data;t.comment.is_liked=!1,t.comment.total_likes_count--})).catch((function(e){t.comment.is_liked=!0,t.$notifier.showMessage({content:e.message,color:"error"})}))},replyComment:function(t){var e=this;console.log(t),this.isLoadingToSend=!0,this.replyToComment({commentId:this.comment.id,content:t.replayText}).then((function(t){t.data;e.fetchRepliesToComment()})).catch((function(t){e.$notifier.showMessage({content:t.message,color:"error"})}))},fetchRepliesToComment:function(){var t=this;this.getRepliesComments({commentId:this.comment.id}).then((function(e){var data=e.data;t.replies=data.replies,t.isLoadingToSend=!1,t.isReplyTextAreaExpanded=!1})).catch((function(e){t.$notifier.showMessage({content:e.message,color:"error"})}))}})},v=(n(769),n(38)),h=n(39),_=n.n(h),y=n(482),x=n(503),C=n(497),w=n(121),O=n(212),j=n(495),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"comment py-4 mt-1",attrs:{color:t.depth%2==1?"#2a2a2a":"#1e1e1e"}},[n("div",[n("UserAvatar",{attrs:{color:"primary","avatar-string":t.comment.author.username,"avatar-src":t.comment.author.profile_picture}})],1),t._v(" "),n("div",{staticClass:"content pl-8"},[n("div",{staticClass:"pb-1"},[n("a",{staticClass:"author"},[t._v(t._s(t.comment.author.username))]),t._v(" "),n("div",{staticClass:"metadata"},[n("span",{staticClass:"date"},[t._v(t._s(t.dateDuration))])]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n        "+t._s(t.comment.content)+"\n      ")])]),t._v(" "),n("v-row",{staticClass:"actions justify-content pl-8",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"my-auto",attrs:{sm:"3",md:"3",lg:"2",xl:"1"}},[t.isReplyTextAreaExpanded?n("a",{staticClass:"reply",on:{click:function(e){t.isReplyTextAreaExpanded=!t.isReplyTextAreaExpanded}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close")]),t._v("\n          Cancel\n        ")],1):n("a",{staticClass:"reply",on:{click:function(e){t.isReplyTextAreaExpanded=!t.isReplyTextAreaExpanded}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-reply")]),t._v("\n          Reply\n        ")],1)]),t._v(" "),n("v-col",{staticClass:"my-auto",attrs:{sm:"5",md:"5",lg:"3",xl:"2"}},[0!==t.replies.length&&t.isRepliesExpanded?n("a",{staticClass:"reply",on:{click:function(e){t.isRepliesExpanded=!t.isRepliesExpanded}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-arrow-up-drop-circle-outline")]),t._v("\n          Hide Replays\n        ")],1):0===t.replies.length||t.isRepliesExpanded?t._e():n("a",{staticClass:"reply",on:{click:function(e){t.isRepliesExpanded=!t.isRepliesExpanded}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-arrow-down-drop-circle-outline")]),t._v("\n          Show replies ("+t._s(t.replies.length)+")\n        ")],1)]),t._v(" "),n("v-col",{attrs:{sm:"1",md:"1",lg:"5",xl:"8"}}),t._v(" "),n("v-col",{attrs:{sm:"3",md:"3",lg:"2",xl:"1"}},[n("v-btn",{attrs:{color:t.isLiked,icon:""},on:{click:t.onLikeCommentClicked}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-heart")])],1),t._v(" "),n("a",{staticClass:"reply",on:{click:t.openLikeDialog}},[t._v("\n          "+t._s(t.comment.total_likes_count)+"\n        ")])],1)],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isReplyTextAreaExpanded,expression:"isReplyTextAreaExpanded"}],staticClass:"mx-3 mt-3"},[n("NewComment",{attrs:{"is-loading-to-send":t.isLoadingToSend,"submit-comment":t.replyComment}})],1)]),t._v(" "),0!==t.replies.length?n("v-expand-transition",[n("Comments",{directives:[{name:"show",rawName:"v-show",value:t.isRepliesExpanded,expression:"isRepliesExpanded"}],attrs:{depth:t.depth+1,root:t.replies}})],1):t._e()],1)}),[],!1,null,"f9b14c10",null);e.default=component.exports;_()(component,{UserAvatar:n(119).default,NewComment:n(524).default,Comments:n(673).default}),_()(component,{VBtn:y.a,VCard:x.a,VCol:C.a,VExpandTransition:w.a,VIcon:O.a,VRow:j.a})},656:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(120);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"PostView",components:{UserAvatar:n(119).default},data:function(){return{}},computed:l(l({},Object(r.c)("modules/post",["isCommentToPostExpanded"])),{},{dateDuration:{get:function(){var t=new Date(this.post.date_created).getTime(),e=(new Date).getTime();return e-t<36e5?Math.floor((e-t)/6e4)+" m":e-t>36e5&&e-t<864e5?Math.floor((e-t)/36e5)+" h":Math.floor((e-t)/864e5)+" day(s)"}},isLiked:function(){return this.post.is_liked?"pink":""}}),methods:l(l(l(l({},Object(r.b)("modules/post",["setCommentToPost"])),Object(r.b)("modules/post",["likePost"])),Object(r.b)("modules/post",["dislikePost"])),{},{onLikePostClicked:function(){var t=this,e=!this.post.is_liked;this.post.is_liked=!this.post.is_liked,e?this.likePost({postId:this.post.id}).then((function(e){e.data;t.post.is_liked=!0,t.post.likes_number++})).catch((function(e){t.post.is_liked=!1,t.$notifier.showMessage({content:e.message,color:"error"})})):this.dislikePost({postId:this.post.id}).then((function(e){e.data;t.post.is_liked=!1,t.post.likes_number--})).catch((function(e){t.post.is_liked=!0,t.$notifier.showMessage({content:e.message,color:"error"})}))}}),props:["post","author","content"]},d=(n(765),n(38)),f=n(39),v=n.n(f),h=n(482),_=n(503),y=n(497),x=n(534),C=n(212),w=n(495),O=n(69),j=n(499),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mb-2 pa-1",attrs:{elevation:"2"}},[n("v-row",[n("v-col",{staticClass:"ml-5"},[n("v-row",{staticClass:"pb-1"},[n("nuxt-link",{staticClass:"text-decoration-none white--text",attrs:{to:"/posts/"+t.post.id}},[n("h2",[t._v(t._s(t.post.title))])]),t._v(" "),null!==t.post.category?n("nuxt-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/explore?category="+t.post.category}},[n("v-sheet",{attrs:{outlined:"",elevation:"1",color:"blue px-3 mt-1 ml-4 rounded-pill"}},[n("span",[t._v("\n                "+t._s(void 0===t.post.category?"":t.post.category.title)+"\n              ")])])],1):t._e()],1),t._v(" "),n("v-row",{staticClass:"pb-1"},[n("div",{staticClass:"mr-2"},[n("v-icon",{attrs:{size:"15"}},[t._v("\n            mdi-clock\n          ")]),t._v(" "),n("span",{staticStyle:{"font-size":"smaller"}},[t._v(t._s(t.dateDuration))])],1)])],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),n("span",[t._v("More")])])],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"ma-3",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),n("v-divider"),t._v(" "),n("v-row",{staticClass:"mx-2"},[n("v-col",[n("nuxt-link",{staticClass:"text-decoration-none white--text d-flex py-2",attrs:{to:"/profile/"+t.author.username}},[n("div",[n("UserAvatar",{staticClass:"profile-pic",attrs:{color:"primary","avatar-string":t.author.username,"avatar-src":t.author.profile_picture}})],1),t._v(" "),n("div",{staticClass:"d-flex flex-column ml-3"},[n("span",[n("b",[t._v(t._s(t.author.username))])]),t._v(" "),n("span",{staticStyle:{"font-size":"smaller"}},[t._v(t._s(t.author.first_name)+" "+t._s(t.author.last_name))])])])],1),t._v(" "),n("v-col",{staticClass:"text-right d-flex justify-end align-center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:t.isLiked,icon:""},on:{click:t.onLikePostClicked}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-heart")])],1)]}}])},[t._v(" "),n("span",[t._v("Like")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.setCommentToPost(t.isCommentToPostExpanded)}}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-comment")])],1)]}}])},[t._v(" "),n("span",[t._v("Comment")])])],1)],1),t._v(" "),n("v-row")],1)}),[],!1,null,"2577aa8e",null);e.default=component.exports;v()(component,{UserAvatar:n(119).default}),v()(component,{VBtn:h.a,VCard:_.a,VCol:y.a,VDivider:x.a,VIcon:C.a,VRow:w.a,VSheet:O.a,VTooltip:j.a})},657:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(16),n(17),n(13),n(9);var o=n(2),r=n(624),c=n(120);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"NestedComments",components:{NewComment:n(524).default,Comment:r.default},data:function(){return{isLoadingToSend:!1}},computed:m({},Object(c.c)("modules/post",["isCommentToPostExpanded"])),methods:m(m(m(m({},Object(c.b)("modules/post",["setCommentToPost"])),Object(c.b)("modules/comment/post_comment",["replyToPost"])),Object(c.b)("modules/comment/post_comment",["getComments"])),{},{replyComment:function(t){var e=this;this.isLoadingToSend=!0,this.replyToPost({postId:this.postId,content:t.replayText}).then((function(t){t.data;e.fetchComments()})).catch((function(t){console.log(t)}))},fetchComments:function(){var t=this;this.getComments({postId:this.$route.params.id}).then((function(e){var data=e.data;t.root=data.comments,t.setCommentToPost(t.isCommentToPostExpanded),t.isLoadingToSend=!1})).catch((function(t){console.log(t)}))}}),props:["root","postId"]},f=(n(771),n(38)),v=n(39),h=n.n(v),_=n(503),y=n(121),component=Object(f.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"pa-2"},[e("v-expand-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isCommentToPostExpanded,expression:"isCommentToPostExpanded"}]},[e("NewComment",{attrs:{"is-loading-to-send":this.isLoadingToSend,"submit-comment":this.replyComment}})],1)]),this._v(" "),e("div",{staticClass:"ui comments mx-2"},this._l(this.root,(function(t,i){return e("Comment",{key:i,attrs:{depth:0,comment:t.comment,replies:t.replies}})})),1)],1)}),[],!1,null,"569445c8",null);e.default=component.exports;h()(component,{NewComment:n(524).default,Comment:n(624).default}),h()(component,{VCard:_.a,VExpandTransition:y.a})},673:function(t,e,n){"use strict";n.r(e);n(5);var o={name:"Comments",components:{Comment:function(){return Promise.resolve().then(n.bind(null,624))}},props:["root","depth"]},r=(n(767),n(38)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments"},t._l(t.root,(function(e,i){return n("Comment",{key:i,attrs:{depth:t.depth,comment:e.comment,replies:e.replies}})})),1)}),[],!1,null,"4daa16ce",null);e.default=component.exports;installComponents(component,{Comment:n(624).default})},765:function(t,e,n){"use strict";var o=n(599);n.n(o).a},766:function(t,e,n){(e=n(14)(!1)).push([t.i,".header-image[data-v-2577aa8e]{text-align:center}.header-image img[data-v-2577aa8e]{width:90%;height:250px;border-radius:5px}",""]),t.exports=e},767:function(t,e,n){"use strict";var o=n(600);n.n(o).a},768:function(t,e,n){(e=n(14)(!1)).push([t.i,".comments[data-v-4daa16ce]{margin:0 0 .5em 1em;border-left:.1em solid #fff;padding:1em 0 1em 1em}.comments[data-v-4daa16ce]:before{position:absolute;top:0;left:0}",""]),t.exports=e},769:function(t,e,n){"use strict";var o=n(601);n.n(o).a},770:function(t,e,n){(e=n(14)(!1)).push([t.i,".comment[data-v-f9b14c10]{position:relative;line-height:1.2}.comment[data-v-f9b14c10]:first-child{margin-top:0;padding-top:0}.comment[data-v-f9b14c10]{border:none;background:none}.comment .avatar[data-v-f9b14c10]{float:left}.comment .avatar img[data-v-f9b14c10],.comment img.avatar[data-v-f9b14c10]{display:block;margin:0 auto;width:100%;height:100%;border-radius:2rem}.comment>.content[data-v-f9b14c10]{display:block}.comment>.avatar~.content[data-v-f9b14c10]{margin-left:3.5em}.comment .author[data-v-f9b14c10]{font-size:1em;color:#f3f3f3;font-weight:700}.comment a.author[data-v-f9b14c10]{cursor:pointer}.comment a.author[data-v-f9b14c10]:hover{color:#bb86fc}.comment .metadata[data-v-f9b14c10]{display:inline-block;margin-left:.5em;color:#4aff80;font-size:.875em}.comment .metadata>*[data-v-f9b14c10]{display:inline-block;margin:0 .5em 0 0}.comment .metadata[data-v-f9b14c10]>:last-child{margin-right:0}.comment .text[data-v-f9b14c10]{margin:.25em 2.5em .5em;font-size:1em;word-wrap:break-word;color:#dedede;line-height:1.3}.comment .actions[data-v-f9b14c10]{font-size:.875em}.comment .actions a[data-v-f9b14c10]{cursor:pointer;display:inline-block;margin:0 .75em 0 0;color:#bb86fc}.comment .actions a[data-v-f9b14c10]:last-child{margin-right:0}.comment .actions a.active[data-v-f9b14c10],.comment .actions a[data-v-f9b14c10]:hover{color:#fff}.ui.minimal.comments .comment .actions[data-v-f9b14c10]{opacity:0;position:absolute;top:0;right:0;left:auto;transition:opacity .2s ease;transition-delay:.1s}.ui.minimal.comments .comment>.content:hover>.actions[data-v-f9b14c10]{opacity:1}",""]),t.exports=e},771:function(t,e,n){"use strict";var o=n(602);n.n(o).a},772:function(t,e,n){(e=n(14)(!1)).push([t.i,".ui.comments[data-v-569445c8]{margin:1.5em 0}.ui.comments[data-v-569445c8]:first-child{margin-top:0}.ui.comments[data-v-569445c8]:last-child{margin-bottom:0}.comment .comments[data-v-569445c8]{margin:0 0 .5em 1em;border-left:1px solid #fff;padding:1em 0 1em 1em}.comment .comments[data-v-569445c8]:before{position:absolute;top:0;left:0}.ui.threaded.comments .comment .comments[data-v-569445c8]{margin:-1.5em 0 -1em 1.25em;padding:3em 0 2em 2.25em;box-shadow:-1px 0 0 rgba(34,36,38,.15)}",""]),t.exports=e},865:function(t,e,n){"use strict";n.r(e);n(7),n(11),n(8),n(32),n(16),n(17),n(13),n(9);var o=n(2),r=n(536),c=n(537),l=n(538),m=n(539),d=n(540),f=n(656),v=n(657),h=n(120);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={name:"_id",components:{NestedComments:v.default,PostView:f.default,User:r.default,Categories:c.default,Communities:l.default,Write:m.default,PostQuickView:d.default},data:function(){return{post:"",author:"",postContent:"<style>p img{display: block;margin-left: auto;margin-right: auto;max-width: 50%;}</style>",comments:[],isPostContentLoading:!0,isCommentLoading:!0}},mounted:function(){this.fetchComments(),this.fetchPostContent()},computed:{postColumns:function(){switch(this.$vuetify.breakpoint.name){case"xs":case"sm":return 12;case"md":case"lg":case"xl":return 10}}},methods:y(y(y({},Object(h.b)("modules/post",["getFullPost"])),Object(h.b)("modules/comment/post_comment",["getComments"])),{},{fetchComments:function(){var t=this;this.getComments({postId:this.$route.params.id}).then((function(e){var data=e.data;t.comments=data.comments,t.isCommentLoading=!1})).catch((function(e){return t.$nuxt.error({statusCode:404,message:e.message})}))},fetchPostContent:function(){var t=this;this.getFullPost({id:this.$route.params.id}).then((function(e){var data=e.data;t.post=data.post,t.author=data.post.author,t.postContent+=data.post.post_content.content_text,t.isPostContentLoading=!1})).catch((function(e){return t.$nuxt.error({statusCode:404,message:e.message})}))}})},C=n(38),w=n(39),O=n.n(w),j=n(503),k=n(497),P=n(495),V=n(560),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"py-5"},[n("v-col",{attrs:{cols:(12-t.postColumns)/2}}),t._v(" "),n("v-col",{attrs:{cols:t.postColumns}},[n("PostView",{directives:[{name:"show",rawName:"v-show",value:!t.isPostContentLoading,expression:"!isPostContentLoading"}],attrs:{post:t.post,author:t.author,content:t.postContent}}),t._v(" "),n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isPostContentLoading,expression:"isPostContentLoading"}],staticClass:"pa-2"},[n("div",{staticClass:"mx-2  my-6"},[n("v-skeleton-loader",{attrs:{type:"card-heading, image"}})],1),t._v(" "),n("div",{staticClass:"mx-2  my-4"},[n("v-skeleton-loader",{attrs:{type:"paragraph"}})],1),t._v(" "),n("div",{staticClass:"mx-2  my-4"},[n("v-skeleton-loader",{attrs:{type:"paragraph"}})],1),t._v(" "),n("div",{staticClass:"mx-2  my-4"},[n("v-skeleton-loader",{attrs:{type:"paragraph"}})],1),t._v(" "),n("div",{staticClass:"mx-2  my-4"},[n("v-skeleton-loader",{attrs:{type:"paragraph"}})],1),t._v(" "),n("div",{staticClass:"ma-2"},[n("v-skeleton-loader",{attrs:{type:"list-item-avatar"}})],1)]),t._v(" "),n("div",[n("NestedComments",{directives:[{name:"show",rawName:"v-show",value:!t.isCommentLoading,expression:"!isCommentLoading"}],attrs:{postId:t.$route.params.id,root:t.comments}}),t._v(" "),n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isCommentLoading,expression:"isCommentLoading"}],staticClass:"mt-3"},[n("div",{staticClass:"ma-2"},[n("v-skeleton-loader",{attrs:{type:"list-item-avatar-two-line"}})],1),t._v(" "),n("div",{staticClass:"ma-2"},[n("v-skeleton-loader",{attrs:{type:"list-item-avatar-two-line"}})],1),t._v(" "),n("div",{staticClass:"ma-2"},[n("v-skeleton-loader",{attrs:{type:"list-item-avatar-two-line"}})],1)])],1)],1),t._v(" "),n("v-col",{attrs:{cols:(12-t.postColumns)/2}})],1)}),[],!1,null,"751f9a59",null);e.default=component.exports;O()(component,{PostView:n(656).default,NestedComments:n(657).default}),O()(component,{VCard:j.a,VCol:k.a,VRow:P.a,VSkeletonLoader:V.a})}}]);